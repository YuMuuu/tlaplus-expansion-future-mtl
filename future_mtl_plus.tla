---------------------------- MODULE future_mtl_plus --------------------------
EXTENDS Naturals, Sequences, TLC, future_mtl

(***************************************************************************)
(* ちょうど k ステップ後に Psi が到達し、それまで Phi が保たれる                *)
(* UntilAt(k, Phi, Psi, t, MaxT)                                           *)
(* - 時間は整数。現在時刻は t、終端は MaxT。                                *)
(* - k は 0..(MaxT - t) の範囲内にある必要がある。                           *)
(***************************************************************************)

WithinRange(k, t, MaxT) == k \in 0..(MaxT - t)

UntilAt(k, Phi(_), Psi(_), t, MaxT) ==
  /\ WithinRange(k, t, MaxT)
  /\ Psi(t + k)
  /\ \A m \in 0..k-1: Phi(t + m)

=============================================================================
